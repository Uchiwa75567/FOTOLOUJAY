<div class="modal-backdrop">
  <div class="modal-container">
    <div class="modal-header">
      <h2>📋 Complétez votre profil</h2>
      <p class="modal-subtitle">Pour vendre sur notre plateforme, nous avons besoin de quelques informations supplémentaires.</p>
    </div>

    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="modal-form">
      <!-- Phone Field -->
      <div class="form-group">
        <label for="phone">📱 Numéro de téléphone *</label>
        <input
          type="tel"
          id="phone"
          formControlName="phone"
          placeholder="+221 77 123 45 67"
          [class.error]="phone?.invalid && phone?.touched"
        />
        @if (phone?.invalid && phone?.touched) {
          <div class="error-message">
            @if (phone?.errors?.['required']) {
              <span>Le numéro de téléphone est requis</span>
            }
            @if (phone?.errors?.['pattern']) {
              <span>Format de numéro invalide</span>
            }
          </div>
        }
      </div>

      <!-- Address Field -->
      <div class="form-group">
        <label for="address">📍 Adresse complète *</label>
        <textarea
          id="address"
          formControlName="address"
          rows="3"
          placeholder="Votre adresse complète (rue, ville, pays)"
          [class.error]="address?.invalid && address?.touched"
        ></textarea>
        @if (address?.invalid && address?.touched) {
          <div class="error-message">
            @if (address?.errors?.['required']) {
              <span>L'adresse est requise</span>
            }
            @if (address?.errors?.['minlength']) {
              <span>L'adresse doit contenir au moins 10 caractères</span>
            }
          </div>
        }
      </div>

      <!-- Error Message -->
      @if (errorMessage()) {
        <div class="alert alert-error">
          {{ errorMessage() }}
        </div>
      }

      <!-- Submit Button -->
      <button
        type="submit"
        class="btn-submit"
        [disabled]="profileForm.invalid || isSubmitting()"
      >
        @if (isSubmitting()) {
          <span class="spinner"></span>
          <span>Enregistrement...</span>
        } @else {
          <span>✅ Enregistrer et continuer</span>
        }
      </button>

      <p class="info-text">
        ℹ️ Ces informations sont nécessaires pour faciliter les transactions et la livraison.
      </p>
    </form>
  </div>
</div>